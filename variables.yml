variables:
  # ================================================
  # Unity Catalog and Schema Configuration
  # ================================================
  catalog_name:
    description: Default Unity Catalog to deploy resources into
    # In newer Databricks CLI versions, you don't need to wrap it in backticks for hyphens
    default: "users_<domain>"

  default_schema_name:
    description: Default schema to deploy resources into
    default: "bronze"

  # ================================================
  # Pipeline Configuration
  # ================================================
  pipeline_min_workers:
    description: Minimum workers for pipeline autoscale
    default: 1

  pipeline_max_workers:
    description: Maximum workers for pipeline autoscale
    default: 4

  photon_enabled:
    description: Enable Photon acceleration for pipelines
    default: true

  continuous_mode:
    description: Run pipelines in continuous mode
    default: false

  # ================================================
  # Job Cluster Configuration
  # ================================================
  job_cluster_min_workers:
    description: Minimum workers for job cluster autoscale
    default: 1

  job_cluster_max_workers:
    description: Maximum workers for job cluster autoscale
    default: 4

  failure_notification_emails:
    description: Email addresses for failure alerts
    default: []

  max_retries:
    description: Maximum number of retries for failed jobs
    default: 2

  retry_interval_millis:
    description: Milliseconds to wait between job retries
    default: 300_000

  # ================================================
  # Permission and Access Control Configuration
  # ================================================

  # Service Principals - for automated deployments and run_as identity
  dev_service_principal:
    description: Service principal application ID for dev environment deployment
    default: ""  # Note: Set via environment variable here or CLI parameter

  stage_service_principal:
    description: Service principal application ID for stage environment deployment
    default: ""  # Note: Set via environment variable here or CLI parameter

  prod_service_principal:
    description: Service principal application ID for production environment deployment
    default: ""  # Note: Set via environment variable here or CLI parameter

  default_service_principal:
    description: Service principal application ID to be substituted with env-specific service principal
    default: ""  # Note: it will be substituted in the databricks.yml file - leave it empty

  # Group Names - Must be created in your Databricks workspace before deployment
  # These are custom groups, not system groups. Create them via:
  # Settings > Identity and access > Groups Manage button > Add group, or use Databricks CLI/API
  developers_group:
    description: Group for developers - needs full access in dev, read-only in stage/prod
    default: "developers"

  qa_team_group:
    description: Group for QA team - needs read access in stage for testing
    default: "qa_team"

  operations_group:
    description: Group for operations/SRE team - needs read access in prod for incidents
    default: "operations_team"

  analytics_team_group:
    description: Group for analytics/BI team - needs read access to silver/gold in dev/stage/prod
    default: "analytics_team"